.. _arch_overview_network_filters:

网络 (L3/L4) 过滤器
=======================

如在监听器部分的描述一样，网络 (L3/L4) 过滤器构成了 Envoy 连接处理的核心。
过滤器 API 允许混合和匹配不同的过滤器集，并将其附加到特定的监听器上。
下面就有三种不同的网络过滤器：

* **读取**: 当Envoy 从下游连接接收数据时，将会调用读取过滤器。
* **写入**:  当Envoy 将要向下游发送数据时，将会调用写入过滤器。
* **读取/写入**: 读取/写入过滤器会在 Envoy 从下游连接接收数据或者向下游连接写入数据时都会被调用。

网络过滤器的 API 都相对简单，因为过滤器在原始字节和少量连接事件上运行。（比如 TLS 握手完成、本地或远程断开连接）
链中的过滤器可以停止，然后继续迭代到下一步的过滤器。
这样就能允许在更复杂的场景中使用，比如 :ref:`调用速率限制服务 <arch_overview_global_rate_limit>` 。
同时网络筛选器可以在单个下游连接的上下文中彼此共享状态（静态和动态）。
有关其他的信息，可以参考 :ref:`过滤器之间的数据共享 <arch_overview_data_sharing_between_filters>` 。
Envoy 现在已经有好几个网络过滤器，这些过滤器在本体系架构概述和 :ref:`配置参考 <config_network_filters>` 中都有记录。
